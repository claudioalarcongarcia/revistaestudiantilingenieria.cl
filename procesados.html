<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Artículos procesados</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<h1>Artículos procesados</h1>

<div id="list"></div>

<script>
const SHEET_ID = "1xWRo_TaaJT83s4n5f7W4Apt9Da3M2Bd0q-UgcpyPnaE";
const SHEET_NAME = "Hoja 01";
const CSV_URL = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:csv&sheet=${encodeURIComponent(SHEET_NAME)}`;

fetch(CSV_URL)
  .then(r => r.text())
  .then(csv => {
    const rows = csv.split("\n").map(r => r.split(","));
    const headers = rows.shift();

    const data = rows.map(r => {
      const o = {};
      headers.forEach((h,i)=>o[h.trim()] = (r[i]||"").trim());
      return o;
    });

    const procesados = data.filter(d => d.Estado && d.Estado !== "No procesado");

    document.getElementById("list").innerHTML =
      procesados.map(d => `
        <article class="card">
          <h3>
            <a href="articulo.html?id=${d.Identificador}">
              ${d.Título}
            </a>
          </h3>
          <div>${d.Autores}</div>
          <div>${d.Año} · ${d.Estado}</div>
        </article>
      `).join("");
  });
</script>

</body>
</html>
